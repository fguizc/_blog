<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="fguizc"><title> · Fguizc</title><meta name="description" content="2018年7月30 - 8月5日 GIVE543周報
PC版
父親節活動

完成父親節活動主頁、得獎資訊兩個頁面的二次開發
提供一級導航欄的父親節入口
提供簡單數據埋點在父親節活動主頁
提供新的圖片上傳接口

預約按鈕

優化  按鈕出現的時機，當活動達到後臺管理系統配置的【發送郵件】時間後不再顯示"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><h3 title=""><a href="/">Fguizc</a></h3></div></div><ul class="social-links"><li><a href="http://instagram.com/zcsdt" target="blank"><i class="fa fa-instagram"></i></a></li><li><a href="http://github.com/fguizc" target="blank"><i class="fa fa-github"></i></a></li><li><a href="https://git.oschina.net/fguizc" target="blank"><i class="fa fa-code"></i></a></li><li><a href="http://steamcommunity.com/profiles/76561198255058450" target="blank"><i class="fa fa-steam"></i></a></li></ul><div class="blog-desc">时间胶囊</div><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a href="https://www.caicai.me"> CaiCai </a><span>&</span><a href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/about">关于</a></li><li><a href="/archives">归档</a></li></div><div class="information"><div class="back_btn"><li><a onclick="window.history.go(-1)" class="fa fa-chevron-left"> </a></li></div><div class="avatar"><img src="http://7xv7pp.com1.z0.glb.clouddn.com/avatar_new.jpg"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a></a></h3></div><div class="post-content"><h1>2018年7月30 - 8月5日 GIVE543周報</h1>
<h2>PC版</h2>
<h3>父親節活動</h3>
<ul>
<li>完成父親節活動主頁、得獎資訊兩個頁面的二次開發</li>
<li>提供一級導航欄的父親節入口</li>
<li>提供簡單數據埋點在父親節活動主頁</li>
<li>提供新的圖片上傳接口</li>
</ul>
<h3>預約按鈕</h3>
<ul>
<li>優化  按鈕出現的時機，當活動達到後臺管理系統配置的【發送郵件】時間後不再顯示【預約】按鈕</li>
</ul>
<h3>掌櫃</h3>
<ul>
<li>修復  掌櫃物流無法進入編輯頁面的問題</li>
<li>優化  掌櫃物流在交互卡中不必要的寄送資訊（寄件地址），修改【寄送歷程】為【追蹤包裹】</li>
</ul>
<h3>索取流程</h3>
<ul>
<li>修復  前端代碼造成的索取流程中最後一步顯示【索取錯誤，請稍後再試】的錯誤提示，實際請求已發送成功的問題</li>
</ul>
<h3>其他</h3>
<ul>
<li>優化  刪除首頁跳轉到新半移動端的舊邏輯（通過react框架內做計算跳轉）及tip彈窗</li>
<li>優化  刪除路由文件冗余的路由邏輯</li>
</ul>
<h2>移動端</h2>
<h3>父親節活動</h3>
<ul>
<li>完成父親節活動主頁、發布、得獎資訊三個頁面的開發（淇嘉 完成頁面布局）</li>
<li>修改首頁<strong>活動icon</strong>跳轉到父親節</li>
<li>提供簡單數據埋點</li>
<li>提供新的圖片上傳接口</li>
<li>替換主頁內icon為父親節活動icon（暫未上線）</li>
</ul>
<h3>手機驗證</h3>
<ul>
<li>修復  手機驗證在輸入手機號和正確驗證碼後未跳轉到認證成功頁面</li>
</ul>
<h3>分享</h3>
<ul>
<li>修復  FB分享錯誤的api-url</li>
<li>修復  FB分享成功後卻點擊無效的問題</li>
</ul>
<h3>掌櫃</h3>
<ul>
<li>優化  修改【寄送歷程】為【追蹤包裹】</li>
</ul>
<h3>用戶引導（暫未上線 8.6更新測試環境）</h3>
<ul>
<li>完成  移動端用戶引導整套流程的開發（淇嘉）</li>
</ul>
<h3>其他</h3>
<ul>
<li>優化  部分頁面標題欄為滾動貼附頂端</li>
<li>優化  部分頁面在iOS下滾動不順暢的問題</li>
<li>修復  指定贈送頁面因變量錯誤阻塞頁面的問題</li>
<li>修復  手機註冊密碼輸入框自動失焦的問題</li>
<li>修復  將測試環境和正式環境ga統計分離</li>
</ul>
<h2>問題</h2>
<ol>
<li>在PC端索取流程中，出現了【請求成功】但界面提示【失敗】的問題，導致部分用戶多次索取。 在優化代碼時錯誤地選中了相同變量名，導致兩處變量均被替換，而第二處替換掉的變量名無法找到對應的聲明，因此報錯，被上層錯誤處理函數捕獲，從而顯示【索取失敗，請稍後再試】語句。</li>
</ol>
<p>該問題十分低級，eslint已報出，由於PC項目代碼長期存在大量不符合配置產生的eslint報錯未多加留心。
git代碼提交時應該檢查當次代碼是否存在eslint拋出的【定義未使用變量】等關鍵提示，同時逐步配置修復PC版本的代碼檢查工具，添加precommit來阻止含有eslint錯誤提示的提交</p>
<h3>下週代辦事項</h3>
<ol>
<li>愛箱送月報的虛擬數據的填充及頁面的展示</li>
<li>解決PHP郵件模板的樣式修改及內容空白的問題</li>
<li>禮物需求及個人頁面，換行沒有作用</li>
<li>掌櫃的寄送狀態的服務端每天三次檢查更新</li>
<li>PC掌櫃幾件碼未彈出</li>
<li>移動端互动卡title 显示会员姓名</li>
<li>「交接預告」功能發開（允許政府、公益團體），點擊後是一個彈窗</li>
</ol>
<blockquote>
<p>填寫交接的資訊：交接日期（必填）、接替人姓名（必填）、市話（必填）、手機（非必填）、mail（非必填），填寫送出后續發送郵件給543相關工作人員（小胖）</p>
</blockquote>
<ol start="8">
<li>兩端的预设掌柜柜机</li>
<li>公益團體專屬的頭像信息（暱稱展示：聯絡人，新增「單位全名」＋擔任「職稱」subtitle）上線</li>
</ol>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2018-08-05</span><i class="fa fa-tag"></i></div></div></div></div><div class="share"><div class="evernote"><a href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank" class="fa fa-bookmark"></a></div><div class="weibo"><a href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));" class="fa fa-weibo"></a></div><div class="twitter"><a href="http://twitter.com/home?status=,http://fguizc.me/2018/08/05/2018年7月30 - 8月5日 GIVE543周报/,Fguizc,,;" class="fa fa-twitter"></a></div></div><div class="pagination"><ul class="clearfix"><li class="next pagbuttons"><a role="navigation" href="/2018/07/29/2018-07-29-untitled/" title="" class="btn">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>